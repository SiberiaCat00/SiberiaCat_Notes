# 自由模的直和分解和补空间

## 如果自由模商子自由模得到自由模，则存在相对子模的补空间
假设$M$是一自由左模，$U$为其子模，若$U,M/U$都为自由模，则一定存在一$M$的子模$V$使得$M\cong U\oplus V$且$V\cong M/U$
>*找到自由模$V$*
>设$\varphi$为表示$M$商$U$的同态。假设$v_{i}'$为$M/U$的基，则每一个基一定存在原像。设原像组成向量组$v_{i}$，即$v_{i}' = \varphi(v_{i})$。考虑$v_{i}$张成的模空间$V$，其一定是自由的（否则$M/U$将不会是自由模）。
>
>*证明$U+V=M$*
>由此可以得到$V$和$M/U$之间的同构$\psi$，且满足$\varphi\circ\psi = id_{M/U}$和$\psi\circ\varphi = id_{V}$。对于任意$M$中元素$m$，我们有$$\varphi(m -\psi(\varphi(m))) = \varphi(m) - \varphi\circ \psi(\varphi(m)=\varphi(m)-\varphi(m) = 0$$
>也就是$$m - \psi(\varphi(m)) \in \text{Ker}\varphi = U$$
>而$\psi\circ\varphi(m)\in V$，从而$U+V = M$
>
>*证明$U\cap V = 0$*
>假设$m\in U, m\in V$，因为$\psi$是$V$和$M/U$的同构且$\psi\circ\varphi = id_{V}$，所以$\psi \circ \varphi (m) = \psi(m) = 0 = m$，即$m=0$。所以我们有$U\cap V = 0$。于是，我们由[[LA01 内直和分解和分裂的正合列#模的内直和分解， 补空间|模的内直和分解]]得到确实$U\oplus V$是一个内直和分解。

在上述说明中，$V$是$U\subseteq M$的补空间
## 向量空间必定能够相对于任意子向量空间内直和分解，任意子空间必定有补空间
假设$V$是一向量空间，$E$为其子空间，则一定存在一$V$的子空间$F$使得$V\cong E\oplus F$且$F\cong V/E$，此时$E$的补空间为$F$
>由于所有向量空间都是自由模，这个定理简单得证

## 算法：向量空间的基得到子空间的补空间的基
#算法
假设$V$是一向量空间，$E$为其子空间，$e$是$V$一基。给所有基向量一个良序，我们可以按照良序依次选择不属于$E$和之前选择的基向量张成空间的基向量，则选择的这些基组成某一补空间的基

>假设给基的良序用良序集$I$标定，$S_{i}$为对指标为$i$的向量选择完毕后选择的基向量组成的集合，$S$是所有选择的基向量组成的集合，$F$为$S$张成空间，$F_{i}$为$S_{i}$张成空间
>
>**证明$E+F = V$**
>根据我们的选择方式，选择至$i$的时候，$e_{i}$要么被选择进$S_{i}$，要么本身就在$E + F_{i-1}$中（这种情况下$e_{i}$不会被选择）。这两种情况下我们都能确认$e_{i}\in E+F$。从而任意$e$含有的基向量都处在$E+F$中。所以$E+F = V$
>
>**证明$E\cap F$ = 0**
>假设$v\in E\cap F,v\neq 0$，用基向量线性表示$v$，有$v = \sum_{i\in I_{v}}r_{i}e_{i}\in E$，其中$\forall i\in I_{v}: e_{i} \in S,r_{i}\neq 0$，这显然会导致$I_{v}$中指标最大的元素$j$满足$e_{j} \in \sum_{i\in I_{v} - \{j\}} -r_{i}e_{i}/r_{j} + E$，这是不可能的。


# 自由模内直和和直和的基

## 任意数量自由模的基组成自由模的直和的基。
假设对于任意$i$，$e_{ij}$是自由模$M_{i}$的一组基，在内直和的意义下$M := \bigoplus_{i}M_{i}$，则$e_{ij}$组成$M$的一组基
> *证明$e_{ij}$是$M$的生成组*
> 因为所有$M$中元素都是由有限个$\bigcup M_{i}$中元素线性组合而成，而每个$M_{i}$中元素都是由有限个对应空间的基线性组合而成，所以容易得$e_{ij}$是$M$的生成组
> *证明$e_{ij}$线性无关*
> 通过观察模直和中元素的分量即可：必须所有分量为0，直和模中元素才为0

	注意，如果以非内直和的方式考虑，则e_ij在M_i到M的注射i_i下的像组成M的一组基，证明过程类似。
## 自由模直积的基的一些说明
若模族的数量有限，则这族模的直积和直和可以用同一个映射表达。若模族的数量无限，描述这族模的直积的基将会很复杂。我不会。






