
# 表示$R^{\oplus I}$的列向量 
## 列向量的定义

若$R$是一个环，列向量就是模$R^{\oplus I}$中的元素。列向量可以用$$\begin{bmatrix} r_i \end{bmatrix}$$
来表示。如果$I$是一个有限的集合，我们可以将其列成一列：
$$\begin{bmatrix} r_1 \\ r_2\\... \\ r_n \end{bmatrix}$$
（这里的自然数只是代表一些指标）
注意最多只能有有限个指标$i$下$r_{i}\neq 0$

*这个记号其实在[[LA02 自由模，自由模的基和对偶基|自由模，基和对偶基]]里出现过*


## Definition: Matrix 
For a morphism $\varphi: R^{m}\rightarrow R^n$, We define a matrix for it:$$\begin{bmatrix} r_{11} & r_{12} & \cdots & r_{1m} \\ r_{21} & r_{22} & \cdots & r_{2m} \\ \vdots & \vdots & \ddots &\vdots\\r_{n1}&r_{n_{2}}&\cdots&r_{nm} \end{bmatrix}$$If $m$ or $n$ is infinite, then we just use:$$\begin{bmatrix} r_{ji} \end{bmatrix}$$
Where $$r_{ji}:= {\varphi \left(e_i\right)}_j$$Notice: if $n$ is infinite, then for every $j$, only for finite $i$: $r_{ij} \neq 0$

## Represent homomorphism of $R^n$ by matrix 
Let $R$ be a ring, Let $R-\mathrm{mod_{std}}$ be a category consists of objects are $R^n$($n$ may be infinite) and morphisms are linear map between objects.
Now I define $R-\mathrm{matrix}$ be a category consists of objects are $n$($n$ is a cardinary), and the morphism between $m$ and $n$ are $\mathcal M_{m\times n}$, composition of morphism are matrix multiplication.
Then there is a functor: $R-\mathrm{matrix} \rightarrow R-\mathrm{mod_{finite\cdot free}}$ which map $n$ to $M^n$ and map $\mathcal M_{m\times n}$ to the linear transform $$\lambda\begin{bmatrix} r_1 \\ r_2\\... \\ r_m \end{bmatrix}.\begin{bmatrix} \sum\limits_{j} m_{1j}r_j \\ \sum\limits_{j}m_{2j}r_j\\... \\ \sum\limits_{j} m_{nj}r_j \end{bmatrix}$$ It is a faithful and full functor between two additive category, hence it preserves the module and composition structure of hom-sets.

# Basis representation, functional matrix and matrix representation for general free module homomorphisms.
---
	 First we use basis to represent finite generated free module by R^n
## Definition: Basis matrix 

Assume $M$ is a $R$-module and it is free and have finite basis. Assume $\{e_i\}$ is a basis for $M$. Then the basis matrix $$\begin{bmatrix} e_i & e_2 & ... & e_n \end{bmatrix}$$called **basis matrix**, denote the linear map $$R^n \rightarrow M:\lambda\begin{bmatrix} r_1 \\ r_2\\... \\ r_n \end{bmatrix}.\sum\limits_{1}^{n}r_ie_i$$
If $\mathrm{rank} \ M$ is infinite, we just use $$\begin{bmatrix} e_i \end{bmatrix}_{i \in X}$$
to denote the basis matrix. In this case, it denote the map$$R^{\oplus X} \rightarrow M:\lambda\begin{bmatrix} r_i \end{bmatrix}_{i \in X}.\sum\limits_{r_{i}\neq 0}r_ie_i$$ The map is called **basis representation**. It is trivially an isomorphism.



---
	Basis representation is a isomorphism, hence it have an inverse, that is: we can find how to denote a element of $M$ by a basis representation. Now we deal with this issue, and generate some conclution for functionals and dual space.




## Definition: Functional matrix 
Assume $M$ is a free module of rank $m$ (may  be infinite). A functional matrix is a matrix $$\begin{bmatrix} \varphi_j \end{bmatrix}_{j\in m}$$which satisfy$$\text{for all }m \in M: \varphi_{j} (m) \neq 0 \text{ for only finite }j \in m$$If $m$ is finite, we can simply use$$\begin{bmatrix} \varphi_1 \\ \varphi_2 \\ \vdots \\ \varphi_n \end{bmatrix}$$ to denote a functional matrix. In these two cases, the functional matrix denote the linear map: $$\varphi:= \lambda m. (\lambda j.\varphi_j(m))$$It is trivial to prove the map is well defined

## Theorem: Structure of inverse of a basis matrix 
Assume $B$ is a basis for a finite rank free $R$-module $M$ and $B^{*}$ is the set of Dual functionals for $B$, then the map generated by $B^{*}$ is the inverse of the basis matrix of $B$. (Notice: you should take right index)


---
	Now we use basis matrix, functional matrix and matrix to represent a general free module homomorphism 

## 使用基下的矩阵来表示线性映射
Assume $M,N$ be a $R$-module, $B$ and $C$ are basis for $M$ and $N$, $\mathcal B^{-1}$ is the functional matrix for dual functional of $B$, and $\mathcal C$ is the basis matrix for basis $C$. Then for the digram below:

```tikz
\usepackage{tikz-cd}
\usetikzlibrary{cd} 
\usepackage{amsmath,amsfonts}
\tikzstyle{every node}=[font=\small,scale=2]
\begin{document}
\begin{tikzcd}
                                                                       & M \arrow[r, "\varphi"] & N &                                        \\
R^{\oplus B} \arrow[ru, "\mathcal B"] \arrow[rrr, "{\mathcal M_{B,C}^\varphi }"] &                        &   & R^{\oplus C} \arrow[lu, "\mathcal C"']
\end{tikzcd}
\end{document}
```
There must be a linear transform $\mathcal M_{B,C}^\varphi:R^{\oplus B} \rightarrow R^{\oplus C}$ makes the digram commutative. This is the matrix for $\varphi$ in basis $B$ and $C$. Hence $$\varphi = \mathcal C\circ \mathcal M_{B,C}^{\varphi} \mathcal\circ \mathcal B^{-1}$$Notice: $\mathcal B^{-1}$ is a functional matrix




# 可逆线性映射有可逆矩阵
## 自由生成的模单位映射的矩阵
所有自由模$M$的任意基$e,e$表示下表示单位映射的矩阵一定是一个对角矩阵

## 可逆矩阵的定义
若两个矩阵的乘积为对角矩阵，则称作这两个矩阵可逆且互相为对方的逆矩阵

## 在相同基下，两线性映射互逆等价于表示两线性映射的矩阵积为单位矩阵
若$M,N$分别有基$e,f$，则$T,L$互逆等价于$[T]_{f,e}[L]_{e,f}$为单位阵





# 自由模的基变换
下面叙述不同基下同一线性变换的矩阵有何联系

## 基变换矩阵

若自由模$M$有两个基$e$和$f$，则$f^{-1}\circ e$被称作$e$到$f$的**基变换**，对应的矩阵被称作$e$到$f$的**基变换矩阵**。其满足$$f(f^{-1}\circ e(x)) = e(x)$$
即对于所有的列向量$x$，$x$在基$e$下表示的元素和列向量$f^{-1}\circ e$在基$f$下表示的元素相同。

$e$到$f$的基变换变换和$f$到$e$的基变换变换互为逆变换，$e$到$f$的基变换矩阵和$f$到$e$的基变换矩阵互为逆矩阵，基变换为可逆映射，基矩阵为可逆矩阵

## 基变换矩阵等价于可逆矩阵
基变换矩阵一定是可逆的，因为其代表着基变换这一可逆变换。反之若$R^{\oplus I}$和$R^{\oplus J}$之间存在一个可逆映射且其中一个能用某一个基表示$M$，则另一个也能由这个可逆映射定义一种表示$M$的方法，且基变换矩阵为那个可逆映射的矩阵。



## 算法：找到基变换矩阵
#算法
基变换矩阵可以通过计算每一个$R^{I}$中单位列向量的去向来写出。即$$[\text{id}]_{e,f} =  [f_{j}^*(e_{i})]$$
## 线性变换在不同基下的矩阵
若自由模$M$有两个基$e$和$f$，自由模$N$有两个基$g$和$h$，$T$为一$M$到$N$的线性映射，则$[T]_{f,h} = [\text{id}]_{g,h}[T]_{e,g}[\text{id}]_{f,e}$



# 内直和模矩阵和分块矩阵
	这个模块内的证明很简单，此处不写证明

## 内直和模矩阵
	注意内直和和直和在这个命题中没有区别：我们在之前已经说明了他们具有相同意义

假设模$M$是$M_{i}$内直和，$N$为$N_{i}$直和，则$M_{i}$到$N_{j}$的线性映射和$M$到$N$的线性映射一一对应。对应方式为：将$M$到$N$的线性映射左复合$\pi_j$右复合$i_{i}$得到$M_i$到$N_j$的映射，将$M_{i}$到$N_{j}$的映射左复合$i_j$右复合$\pi_{i}$并对于$i,j$指标求和得到$M$到$N$的映射。
我们用如下矩阵表示这一过程
$$\begin{bmatrix}\varphi\end{bmatrix} = \begin{bmatrix}\pi_j\circ\varphi\circ i_i\end{bmatrix}$$



## 分块矩阵
假设$M$的一组基为$e_{ij}$，$N$的一组基为$f_{ij}$，我们把对于某一$i$来说$e_{ij}$张成空间记作$M_{i}$，把对于某一$i$来说$f_{ij}$张成空间记作$N_{i}$。根据[[LA03 自由模的直和与内直和#自由模内直和和直和的基|自由模内直和和直和的基]]，我们可以将$M$和$N$写成$M_{i}$和$N_{i}$内直和的形式。此时[[#内直和模矩阵]]的矩阵可以用分块矩阵表达。

